{"version":3,"file":"collection-validation.js","sourceRoot":"","sources":["../src/collection-validation.ts"],"names":[],"mappings":";;AAEA,2CAAgC;AAEhC;IASI,kCAAY,SAAuB;QAE/B,qBAAK,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC,cAAc,EAAE,CAAC;QAC/C,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC;IAChC,CAAC;IAPD,sBAAW,2CAAK;aAAhB,cAA0B,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;;;OAAA;IAUxC,2CAAQ,GAAf,UAAgB,UAAoB;QAApC,iBAiBC;QAfG,IAAI,MAAM,GAAG,EAAE,CAAC;QAChB,UAAU,CAAC,OAAO,CAAC,UAAA,IAAI;YAEnB,KAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YAC/B,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,SAAS,CAAC;gBAC1B,MAAM,CAAC,IAAI,CAAC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;QAC5C,CAAC,CAAC,CAAC;QAEH,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,GAAG,CAAC,CAAC,CACtB,CAAC;YACG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;IACL,+BAAC;AAAD,CAAC,AAlCD,IAkCC","sourcesContent":["import Validator from \"./validator\";\nimport ValidationRule from \"./validation-rule\";\nimport given from \"n-defensive\";\n\nexport default class CollectionValidationRule<T> implements ValidationRule<Array<T>>\n{\n    private readonly _validator: Validator<T>;\n    private _error: any;\n\n    \n    public get error(): any { return this._error; }\n\n\n    constructor(validator: Validator<T>)\n    {\n        given(validator, \"validator\").ensureHasValue();\n        this._validator = validator;\n    }\n\n\n    public validate(collection: Array<T>): boolean\n    {\n        let errors = [];\n        collection.forEach(item =>\n        {\n            this._validator.validate(item);\n            if (this._validator.hasErrors)\n                errors.push(this._validator.errors);\n        });\n\n        if (errors.length > 0)\n        {\n            this._error = errors;\n            return false;\n        }\n\n        return true;\n    }\n}"]}